@use 'sass:list';
@use 'sass:map';

// List of destinations with inverse
$_directions: (top, right, bottom, left);

@mixin triangle($size, $color, $direction) {
  width: 0;
  height: 0;

  @if list.index($_directions, $direction) {
    border-color: transparent;
    border-style: solid;
    border-width: $size * 0.5;
    border-#{$direction}-color: $color;
  }
}

@mixin arrow($size, $color) {
  &::after {
    content: '';
    position: absolute;
  }

  // For each directions
  @each $direction in $_directions {
    &-#{$direction}::after {
      // Get property by $direction
      #{$direction}: 100%;

      // If direction is `top` or `bottom`
      @if list.index(top bottom, $direction) {
        left: 50%;
        transform: translate(-50%, 0);
      } @else {
        top: 50%;
        transform: translate(0, -50%);
      }

      @include triangle($size, $color, $direction);
      @content;
    }
  }
}
