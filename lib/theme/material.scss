@use 'sass:map';

$themeColor: #6200ee !default;
$bgColor: #bda1f3 !default;
$disabledColor: #666 !default;
$railBorderRadius: 15px !default;
$railColorDisabled: #ccc !default;

$dotBorderRadius: 50% !default;
$dotShadowColor: rgba($themeColor, 0.38) !default;

$tooltipFontSize: 12px !default;
$tooltipSize: 30px !default;
$tooltipColor: #fff !default;

$stepBorderRadius: 50% !default;

$labelFontSize: 14px !default;

// Directions
$_scale: 0.01;
$_directions: (
  top: (
    translate: (0, 50%),
    rotate: -45deg, // 45deg
    scale: $_scale,
  ),
  bottom: (
    translate: (0, -50%),
    rotate: 135deg, // -135deg
    scale: $_scale,
  ),
  left: (
    translate: (50%, 0),
    rotate: -135deg, // 135deg
    scale: $_scale,
  ),
  right: (
    translate: (-50%, 0),
    rotate: 45deg, // -45deg
    scale: $_scale,
  )
);

/* component style */
.vue-slider-disabled {
  .vue-slider-rail {
    background-color: $railColorDisabled;
  }

  .vue-slider-dot-handle {
    background-color: $disabledColor;
  }

  .vue-slider-process {
    background-color: $disabledColor;
  }

  .vue-slider-mark-step {
    background-color: $disabledColor;

    &-active {
      background-color: $railColorDisabled;
    }
  }
}

/* rail style */
.vue-slider-rail {
  background-color: $bgColor;
  border-radius: $railBorderRadius;
}

/* process style */
.vue-slider-process {
  background-color: $themeColor;
  border-radius: $railBorderRadius;
}

/* mark style */
.vue-slider-mark {
  z-index: 4;

  &-step {
    width: 100%;
    height: 100%;
    border-radius: $stepBorderRadius;
    background-color: $themeColor;

    &-active {
      background-color: $bgColor;
    }
  }

  &-label {
    font-size: $labelFontSize;
    white-space: nowrap;

    //&-active {}
  }
}

/* dot style */
.vue-slider-dot {
  &-handle {
    cursor: pointer;
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: $dotBorderRadius;
    background-color: $themeColor;
    box-sizing: border-box;

    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 200%;
      height: 200%;
      background-color: $dotShadowColor;
      border-radius: $dotBorderRadius;
      transform: translate(-50%, -50%) scale(0);
      transition: transform 0.2s;
      z-index: -1;
    }

    &-focus::after {
      transform: translate(-50%, -50%) scale(1);
    }

    &-disabled {
      cursor: not-allowed;
      background-color: $disabledColor !important;
    }
  }

  &-tooltip {
    visibility: visible;

    &-show {
      .vue-slider-dot-tooltip-inner {
        opacity: 1;

        @each $direction, $options in $_directions {
          &-#{$direction} {
            transform: rotateZ(#{map.get($options, rotate)});
          }
        }
      }
    }

    &-inner {
      border-radius: 50% 50% 50% 0;
      background-color: $themeColor;
      transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.2s linear;
      opacity: 0;

        @each $direction, $options  in $_directions {
        &-#{$direction} {
          transform:
            translate(#{map.get($options, translate)})
            scale(#{map.get($options, scale)})
            rotate(#{map.get($options, rotate)});
        }
      }

      @at-root .vue-slider-dot-tooltip-text {
        font-size: $tooltipFontSize;
        white-space: nowrap;
        text-align: center;
        color: $tooltipColor;
        width: $tooltipSize;
        height: $tooltipSize;
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: content-box;
      }

      @each $direction, $options in $_directions {
        &-#{$direction} .vue-slider-dot-tooltip-text {
          transform: rotateZ(#{- map.get($options, rotate)});
        }
      }
    }
  }
}
